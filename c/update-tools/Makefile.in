#
# $Id$
#
# NOTE: of course we can't use any of these tools
#   in this Makefile.  Most notably: install-if-change
#

@SET_MAKE@
srcdir = @srcdir@
VPATH = @srcdir@
RTEMS_ROOT = @top_srcdir@
PROJECT_ROOT = @PROJECT_ROOT@

include $(RTEMS_ROOT)/make/custom/$(RTEMS_BSP).cfg
include $(RTEMS_ROOT)/make/leaf.cfg

DESTDIR=$(PROJECT_RELEASE)/update-tools

PGMS=update word-replace
MISC_SUPPORT=310_to_320_list

INSTALL_LIST= $(PGMS) $(MISC_SUPPORT)

INSTALLED=$(INSTALL_LIST:%=$(DESTDIR)/%)

all:  $(DESTDIR)

$(DESTDIR):
	$(BSDINSTALL) $(INSTDIRFLAGS) $@

install:  $(INSTALLED)

# Install the program
# FIXME: This isn't correct
$(DESTDIR)/%: %
	$(make-script)
	$(BSDINSTALL)  $(INSTBINFLAGS) $(PERL_PGMS) ${DESTDIR}
	$(BSDINSTALL)  $(INSTDATAFLAGS) $(MISC_SUPPORT) ${DESTDIR}
