2001-09-28	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* include/zilog/Makefile.am: Use 'PREINSTALL_FILES ='.
	* include/motorola/Makefile.am: Use 'PREINSTALL_FILES ='.
	* include/sys/Makefile.am: Use 'PREINSTALL_FILES ='.
	* include/rtems/Makefile.am: Use 'PREINSTALL_FILES ='.
	* include/Makefile.am: Use 'PREINSTALL_FILES ='.

2001-09-22	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* include/sys/Makefile.am: Use = instead of += to setup
	NETWORKING_H_FILES and NEWLIB_H_FILES.

2001-09-22	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* libc/Makefile.am: Revamp INCLUDES handling to make automake-1.5
	happy.

2001-09-14	Eric Norum <eric.norum@usask.ca>

	* libc/gxx_wrappers.c: Modifications to make gcc 3.x happy.

2001-08-17	Joel Sherrill <joel@OARcorp.com>

	* include/rtems/libio_.h: Added ifdef to ensure that LOGIN_NAME_MAX
	is defined on GNU/Linux (RedHat 6.2 distribution).
	* libc/unixlibc.c: Added stubs for rtems_io_register_name() and
	rtems_io_lookup_name() so UNIX port would compile the IO manager
	sptest that registers /dev/null.

2001-08-10  Radzislaw Galler  <rgaller@et.put.poznan.pl>

	* score/cpu_asm.c (sh_set_irq_priority): Changed interrupt vector
	number range check and handling of interrupt priority regs to
	conform SH2 specs.
	* sci/sci_termios.c: New file.
	* include/sci_termios.h: New file.
	* include/Makefile.am (EXTRA_DIST): Added sci_termios.h.
	(include_sh_HEADERS): Added sci_termios.h.
	* score/ispsh7045.c (isp): Calling an ISR with immediate argument
	casued negative sign extension for vector numbers of 128 and
	above. This was fixed.
	* sci/sci.c: Cleaned initialization of SCI registers; added
	necessary setup for new TERMIOS console cooperation

2001-08-16	Joel Sherrill <joel@OARcorp.com>

	* libc/lseek.c: Modified after discussion with Eugeny S. Mints
	<jack@oktet.ru> to correct the behavior.  There were two mistakes.
	First, iop->offset was incorrectly set for SEEK_END.  Second,
	iop->offset should be left unmodified if there are errors.
	This modification attempts to fix both situations.

2001-08-16	Mike Siers <mikes@poliac.com>

	* include/rtems/termiostypes.h, include/sys/ioccom.h:
	Update of PPPD to 2.3.11 from 2.3.5 touched these files.

2001-08-16	Mike Siers <mikes@poliac.com>

	* libc/termios.c: Fix a bug in the termios implementation in
	the following scenario:
	  The General Terminal Interface document that me states that
	  if VMIN = 0 and VTIME = 0, then read() should return the minimum
	  of two values:
  		a) number of bytes available
  		b) number of bytes requested (I assume from the read call)

	  The current implementation of the fillBufferQueue() in termios.c is
	  always return 1 character with these setting values.  I know the
	  termios buffer has more than one character available and my read()
	  call is requesting 1024 bytes.

2001-08-09	Fernando-Ruiz Casas <correo@fernando-ruiz.com>

	* libc/getgrent.c, libc/getpwent.c: the 'ls' and more related command
	previous failed after a chroot(). (unknown user & group)

2001-08-03	Joel Sherrill <joel@OARcorp.com>

	* libc/libio_sockets.c (rtems_bsdnet_fdToSocket): Per bug
	report from Gene Smith <Gene.Smith@sea.siemens.com>, enhanced the
	error checking to account for a socket being closed.

2001-05-25	Joel Sherrill <joel@OARcorp.com>

 	* libc/base_fs.c: Deleted chmod() now that IMFS creates the
	root node with the desired permissions.  chmod() is also not
	supported by the miniIMFS so this is not allowable.

2000-05-24	Fernando Ruiz Casas <fernando.ruiz@ctv.es>

	* include/rtems/libio_.h: Added login name, uid, gid, euid, and egid
	so they can be part of the private environment.

2000-05-24	Fernando Ruiz Casas <fernando.ruiz@ctv.es>

	* libc/ttyname.c (ttyname_r): Removed duplicate call to closedir().
	* libc/getpwent.c: Create a more robust /etc/passwd and /etc/group.
	* libc/base_fs.c: Change permissions of files and directories.  Now uses
	octal constants.

2001-05-11	Joel Sherrill <joel@OARcorp.com>

	* libc/write.c: Change type of rc to match return type from
	underlying function per report from Eric Norum.

2001-04-27	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.in: Add [-ansi -fasm] to RTEMS_PROG_CC_FOR_TARGET.

2001-04-24	Joel Sherrill <joel@OARcorp.com>

 	* libc/libio.c (rtems_libio_allocate): Make sure size and offset
	fields are cleared on each file open.  Before this field was cleared,
	this resulted in the value from the last time that IOP was used
	being still in place.  Discovered by  Andrew Bythell
	<abythell@nortelnetworks.com>.
	* libc/open.c: Remove redundant setting of iop->offset.

2001-04-20  Correo Fernando-ruiz <correo@fernando-ruiz.com>

	* include/rtems/libio_.h, libc/chroot.c, libc/privateenv.c:
	Private environment and chroot() enhancements and fixes.  Comments:
	  + privateenv has been modified to let at chroot() to be more
	    POSIX like Sergei Organov recommended.
	  + A task owner lets that rtems_set_private_env() will be
	    called twice or more times.
	  + chroot() can be called without a previous
	    rtems_set_private_env(); (transpanrently)
	  + The second call of rtems_set_private_env() makes a internal
	    chroot("/") into global imfs_root.
	  + chroot() runs like chdir() without a previous chdir("/") with
	    the global root.
	  + The current directory can be in a wrong place like Linux and 
	    many other Unices.

2001-04-16      Joel Sherrill <joel@OARcorp.com>

	* include/rtc.h: New file.
	* include/Makefile.am: Updated to reflect above.

2001-02-06	Joel Sherrill <joel@OARcorp.com>

	* include/ioccom.h: Unreferenced and thus removed.

2001-02-03	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* include/zilog/Makefile.am, include/Makefile.am, 
	include/motorola/Makefile.am, include/sys/Makefile.am
	include/rtems/Makefile.am: Apply include_*HEADERS instead of
	H_FILES.

2001-01-26	Joel Sherrill <joel@OARcorp.com>

	* libc/chroot.c: Fixed naming problems.  Names were changed
	when the code this depends on was merged.

2001-01-25	Fernando Ruiz <fernando.ruiz@ctv.es>

	* Alternate email is correo@fernando-ruiz.com
	* libc/chroot.c: New file.
	* libc/Makefile.am: Reflect above.

2001-01-25	Fernando Ruiz <fernando.ruiz@ctv.es>

	* Alternate email is correo@fernando-ruiz.com
	* libc/privateenv.c: New file.
	* include/rtems/libio_.h, libc/Makefile.am, libc/base_fs.c, 
	libc/unmount.c: Moved default umask, current working directory,
	root, and links followed count into a structure "user environment"
	that can then be treated as a unit.  This enable giving unique
	copies of these to individual threads or collection of threads.

2001-01-05	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.in: Add libc/config.h
	* libc/Makefile.am: Add INCLUDES += -I. to pickup config.h
	* libc/.cvsignore: Add config.h and stamp-h
	* libc/*.c: Add config.h support.

2000-12-06	Joel Sherrill <joel@OARcorp.com>

	* libc/mallocfreespace.c: Name of routine is
	rtems_region_get_information() NOT region_get_information().
	* libc/unmount.c: Removed unused variable.

2000-11-30	Joel Sherrill <joel@OARcorp.com>

	* include/rtems/Makefile.am: Added termiostypes.h.
	* libc/Makefile.am: Removed termiostypes.h.
	* libc/termios.c: Changed include of "termiostypes.h" to
	<rtems/termiostypes.h> since that is an RTEMS specific header file.

2000-11-29	Joel Sherrill <joel@OARcorp.com>

	* include/sys/ttycom.h: New file -- moved from libnetworking/sys.
	* Makefile.am: Modified to reflect above.

2000-11-28	 Sergei Organov <osv@javad.ru>

	* libc/getcwd.c: Ensure _closedir(dir) is called even on
	error exit from the routine.

2000-11-25  Antti P Miettinen  <antti.p.miettinen@nokia.com>

	* libc/termios.c, libc/termiostypes.h: Task driver driver model
	and line discipline support from Thomas Doerfler
	<Thomas.Doerfler@imd-systems.de>.

2000-11-20	 Dmitry Kargapolov <dk@gentex.ru>

	* libc/mount.c: Make sure there is space allocated for a device name
	in the mount table entry.

2000-11-17	Jennifer Averret <jennifer@OARcorp.com>

	* libc/mount.c (search_mt_for_mount_point): Deleted routine.
	* libc/mount.c (Is_node_fs_root): Replacement for above that
	accounts for the imaginary root node being returned by the
	filesystem evaluation routine.
	* libc/unmount.c (unmount): Account for imaginary root node
	being returned and improved variable names to clarify code.
	* libc/unmount.c (file_systems_below_this_mountpoint):  Body of
	routine replaced to account for imaginary root node being returned.

2000-11-10	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* libc/libio.c: Special treatment of O_NDELAY for Cygwin.

2000-11-09	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: Use ... instead of RTEMS_TOPdir in ACLOCAL_AMFLAGS.

2000-11-02	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: Switch to ACLOCAL_AMFLAGS = -I $(RTEMS_TOPdir)/aclocal.

2000-11-01	Joel Sherrill <joel@OARcorp.com>

	* configure.in: Added include/rtems subdirectory.

2000-11-01	Joel Sherrill <joel@OARcorp.com>

	* include/Makefile.am, include/rtems/libio_.h, libc/Makefile.am,
	libc/assoc.c, libc/assocnamebad.c, libc/base_fs.c, libc/cfsetispeed.c,
	libc/cfsetospeed.c, libc/chdir.c, libc/chmod.c, libc/chown.c,
	libc/close.c, libc/closedir.c, libc/dup2.c, libc/error.c, libc/eval.c,
	libc/fchdir.c, libc/fchmod.c, libc/fcntl.c, libc/fdatasync.c,
	libc/fpathconf.c, libc/fstat.c, libc/fsync.c, libc/ftruncate.c,
	libc/getdents.c, libc/ioctl.c, libc/libio.c, libc/libio_sockets.c,
	libc/link.c, libc/lseek.c, libc/malloc.c, libc/mallocfreespace.c,
	libc/mknod.c, libc/mount.c, libc/newlibc.c, libc/no_libc.c,
	libc/open.c, libc/read.c, libc/readlink.c, libc/rmdir.c, libc/stat.c,
	libc/symlink.c, libc/tcsetattr.c, libc/telldir.c, libc/ttyname.c,
	libc/ttyname_r.c, libc/umask.c, libc/unlink.c, libc/unmount.c,
	libc/utime.c, libc/write.c:
	assoc.h, error.h, libio_.h, libio.h, and libcsupport.h moved 
	from libc to lib/include/rtems and now must be referenced as
	<rtems/XXX.h>.  
	* include/rtems/Makefile.am, include/rtems/.cvsignore: New file.
	* include/rtems/assoc.h, include/rtems/error.h,
	include/rtems/libcsupport.h, include/rtems/libio.h,
	include/rtems/libio_.h: New/moved files.

2000-10-26      Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.in: Remove bogus cfg_subdirs.
	* Makefile.am: ACLOCAL_AMFLAGS= -I $(RTEMS_TOPdir)/macros.
	Switch to GNU canonicalization.
   
2000-10-24	Joel Sherrill <joel@OARcorp.com>

	* libc/ioman.c: Moved to libfs.
	* libc/Makefile.am: Removed ioman.c as part of moving it to libfs.
	* libc/base_fs.c: Removed include of imfs.h and reworded comment
	to avoid being IMFS specific.
	* libc/libio.h: Removed prototype of IMFS_ops since it should 
	not be in this file.
	* libc/mount.c: Removed IMFS specific configuration information.
	* libc/unmount.c: Removed include of imfs.h and reworded comment
	to avoid being IMFS specific.

2000-10-18	Chris Johns <ccj@acm.org>

	* libfs created.
	* libc/deviceio.c, libc/imfs_getchild.c, libc/imfs_readlink.c,
	libc/imfs.h, libc/imfs_gtkn.c, libc/imfs_rmnod.c, libc/imfs_chown.c,
	libc/imfs_handlers_device.c, libc/imfs_stat.c, libc/imfs_creat.c,
	libc/imfs_handlers_directory.c, libc/imfs_symlink.c, libc/imfs_debug.c,
	libc/imfs_handlers_link.c, libc/imfs_unixstub.c, libc/imfs_directory.c,
	libc/imfs_handlers_memfile.c, libc/imfs_unlink.c, libc/imfs_eval.c,
	libc/imfs_init.c, libc/imfs_unmount.c, libc/imfs_fchmod.c,
	libc/imfs_initsupp.c, libc/imfs_utime.c, libc/imfs_fcntl.c,
	libc/imfs_link.c, libc/memfile.c, libc/imfs_fdatasync.c,
	libc/imfs_mknod.c, libc/miniimfs_init.c, libc/imfs_free.c,
	libc/imfs_mount.c, libc/imfs_fsunmount.c, libc/imfs_ntype.c:
	Moved to libfs/src/imfs.
	* Makefile.am: Modified to reflect above.

2000-10-18	Joel Sherrill <joel@OARcorp.com>

	* libc/Makefile.am: Added mallocfreespace.c.
	* libc/mallocfreespace.c: New file based on work by Nick Simon
	<Nick.SIMON@syntegra.bt.co.uk> which he included in malloc.c.
	* libc/libcsupport.h: Added prototype for malloc_free_space().

2000-10-18	Joel Sherrill <joel@OARcorp.com>

	* libc/fcntl.c: Do not require every filesystem to have an fcntl()
	handler.  Most fcntl() operations can be performed with no
	filesystem support.
	* ChangeLog: Corrected comment.

2000-09-28	Joel Sherrill <joel@OARcorp.com>

	* libc/libio.h (rtems_filesystem_file_handlers_r,
	rtems_filesystem_operations_table): Added _h to all structure
	fields to indicate they are "handlers".
	* libc/libio_.h, libc/chdir.c, libc/chmod.c, libc/chown.c,
	libc/close.c, libc/eval.c, libc/fchdir.c, libc/fchmod.c,
	libc/fcntl.c, libc/fdatasync.c, libc/fstat.c, libc/fsync.c,
	libc/ftruncate.c, libc/getdents.c, libc/imfs_eval.c,
	libc/imfs_unlink.c, libc/ioctl.c, libc/ioman.c, libc/link.c,
	libc/lseek.c, libc/mknod.c, libc/mount.c, libc/open.c, libc/read.c,
	libc/readlink.c, libc/rmdir.c, libc/stat.c, libc/symlink.c,
	libc/unlink.c, libc/unmount.c, libc/utime.c, libc/write.c:
	Modified to reflect above name change.

2000-09-22	Joel Sherrill <joel@OARcorp.com>

	* libc/newlibc.c: Removed _A29K specific ifdef.

2000-09-05	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.in: Cleanup comments.

2000-09-04	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* libc/Makefile.am: Include compile.am

2000-09-05	Joel Sherrill <joel@OARcorp.com>

	* libio.c: Added O_NONBLOCK to list of flags.

2000-08-30	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.in: Remove libcpu and libbsp
	* Makefile.am: Remove libcpu and libbsp

2000-08-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libc/fs_null_handlers.c: Added missing rmnod entry.

2000-08-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* libc/isatty.c, libc/imfs_handlers_directory.c, libc/creat.c,
	libc/imfs_directory.c: Fixed style issues.

2000-08-11  Chris Johns <ccj@acm.org>

	* libc/chmod.c: Return ENOTSUP if filesystem does not have handler.
	* libc/eval.c: Ditto.
	* libc/fcntl.c: Ditto.
	* libc/fsync.c: Ditto.
	* libc/ioctl.c: Ditto.
	* libc/ioman.c: Ditto.
	* libc/link.c: Ditto.
	* libc/mknod.c: Ditto.
	* libc/symlink.c: Ditto.
	* libc/libio.h(rtems_filesystem_dev_major_t): New macro.
	* libc/libio.h(rtems_filesystem_dev_minor_t): New macro.
	* libc/memfile.c: Deleted assert.  Added code to properly handle
	appending to a file.

2000-08-10	Joel Sherrill <joel@OARcorp.com>

	* ChangeLog: New file.
