#! /bin/sh
#
#  Generate the summary chapter
#
#  $Id$
#

echo "@c"
echo "@c DO NOT EDIT -- AUTOMATICALLY GENERATED!!!"
echo "@c"
echo
echo "@chapter Compliance Summary"
echo

summarize_chapter()
{
  grep "^@chapter" $1 | \
    sed -e "s/^.chapter/@section/"  \
        -e "s/$/ Chapter/" 
  echo
  functions_total=`grep "()" $1 | wc -l`
  functions_implemented=`grep "()" $1 | grep Implemented | wc -l`
  functions_unimplemented=`grep "()" $1 | grep Unimplemented | wc -l`
  functions_unmplementable=`grep "()" $1 | grep Unimplementable | wc -l`

  echo "@example"
  echo "Total Number of Functions: ${functions_total} @*"
  echo "Functions Implemented    : ${functions_implemented} @*"
  echo "Functions Unimplemented  : ${functions_unimplemented} @*"
  echo "Functions Unimplementable: ${functions_unmplementable} @*"
  echo "@end example"
  echo
}

chapters="ch01.t ch02.t ch03.t ch04.t ch05.t ch06.t ch07.t ch08.t \
    ch09.t ch10.t ch11.t ch12.t ch13.t ch14.t ch15.t ch16.t ch17.t ch18.t"
for chapter in ${chapters}
do
  summarize_chapter $chapter
done




