#
#  Config file for a PowerPC MPC860-based MBX860-005b card.
#

#
#  All MBX8xx configurations share the same base file, only a few
#  parameters differ.
#  

RTEMS_MBX_MODEL=mbx860_005b

# The 860_005b has 16M ram : org = 0x0, l = 16M 
MBX8xx_LDFLAGS=-Wl,--defsym -Wl,HeapSize=0x100000

RTEMS_PPC_EXCEPTION_PROCESSING_MODEL=new

include $(RTEMS_ROOT)/make/custom/mbx8xx.cfg
define make-target-options
        @echo "#ifdef mpc$(CPU_TYPE)"                       >>$@
        @echo "#undef mpc$(CPU_TYPE)"                       >>$@
        @echo "#endif"                                      >>$@
        @echo "#define mpc$(CPU_TYPE) 1"                    >>$@
        @echo                                               >>$@
        @echo "#define INSTRUCTION_CACHE_ENABLE 1"          >>$@
        @echo "#define DATA_CACHE_ENABLE 1"                 >>$@
        @echo                                               >>$@
endef
