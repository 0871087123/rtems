2002-11-19	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Cosmetical fixes.

2002-11-19	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Fix package name.

2002-10-30	Eric Norum <eric.norum@usask.ca>

	* src/psignal.c: Fix counting problem which resulted in too many
	entries being in the POSIX signals default behavior table.

2002-11-01	Joel Sherrill <joel@OARcorp.com>

	* ChangeLog: Corrected.

2002-10-30	Eric Norum <eric.norum@usask.ca>

	* src/psignal.c: Reflect changes to signal names in newlib.

2002-10-25	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Add nostdinc to AM_INIT_AUTOMAKE.

2002-10-21	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* .cvsignore: Reformat.
	Add autom4te*cache.
	Remove autom4te.cache.

2002-09-14	Joel Sherrill <joel@OARcorp.com>

	* src/psignal.c: Remove duplication from rtems/posix/psignal.h.

2002-08-21	Joel Sherrill <joel@OARcorp.com>

	* src/adjtime.c: New file -- adjtime() support required by the
	Network Time Protocol (NTP) port to RTEMS.
	* src/Makefile.am: Modified to reflect above.

2002-08-09	Joel Sherrill <joel@OARcorp.com>

	* src/cancelrun.c: Remove check for PTHREAD_CANCELED not being defined
	to ensure that newlib patch includes it.

2002-07-31	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* src/mqueuecreatesupp.c: #include <stdlib.h> (malloc).

2002-07-22	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* src/Makefile.am: Use .$(OBJEXT) instead of .o.

2002-07-22	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* src/Makefile.am: Use AM_CPPFLAGS instead of INCLUDES.

2002-07-05	Joel Sherrill <joel@OARcorp.com>

	* include/rtems/posix/cancel.h, src/cancel.c, src/cancelrun.c,
	src/mqueue.c, src/pthread.c, src/semaphore.c, src/setcancelstate.c,
	src/setcanceltype.c, src/testcancel.c:  Per PR164, corrected the
	behavior of thread cancellation and did some cleanup as a side-effect.

2002-07-05	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: RTEMS_TOP(../..).

2002-07-01    Joel Sherrill <joel@OARcorp.com>

	* Mega patch merge to change the format of the object IDs to
	loosen the dependency between the SCORE and the various APIs.
	There was considerable work to simplify the object name management
        and it appears that the name_table field is no longer needed.
	This patch also includes the addition of the internal mutex
	which is currently only used to protect some types of allocation
	and deallocation.  This significantly can reduce context 
	switch latency under certain circumstances.  In particular,
	some heap/region operations were O(n) and had dispatching
	disabled.  This should help enormously.  With this merge,
	the patch is not as clean as it should be.  In particular,
	the documentation has not been modified to reflect the new object
	ID layout, the IDs in the test screens are not updated, and
	_Objects_Get_information needs to be a real routine not inlined.
	As part of this patch a lot of MP code for thread/proxy blocking
	was made conditional and cleaned up.
	* include/rtems/posix/key.h, src/cond.c, src/condinit.c, src/intr.c,
	src/key.c, src/keycreate.c, src/keydelete.c, src/killinfo.c,
	src/mqueue.c, src/mqueuecreatesupp.c, src/mutex.c, src/mutexinit.c,
	src/psignal.c, src/pthread.c, src/semaphore.c,
	src/semaphorecreatesupp.c:  Modified as part of above.

2002-07-01	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Remove RTEMS_PROJECT_ROOT.

2002-06-27	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Use AC_CONFIG_AUX_DIR(../..).
	Add AC_PROG_RANLIB.

2002-06-26	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Remove references to RTEMS_BSP.
	* src/Makefile.am: Add libposix.a.

2002-06-17	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* include/Makefile.am: Include $(top_srcdir)/../automake/*.am.
	* Makefile.am: Include $(top_srcdir)/../automake/*.am.
	Use ../aclocal.
	* inline/Makefile.am: Include $(top_srcdir)/../automake/*.am.
	* macros/Makefile.am: Include $(top_srcdir)/../automake/*.am.
	* src/Makefile.am: Include $(top_srcdir)/../automake/*.am.

2001-05-17	Joel Sherrill <joel@OARcorp.com>

	* macros/rtems/posix/mqueue.inl: Implemented missing routines
	to support message queue FDs.

2002-05-03	Ralf Corsepius <corsepiu@faw.uni-ulm.de>	

	* include/sys/utsname.h: Remove.
	* include/Makefile.am: Reflect changes above.
	* src/utsname.c: Remove.
	* src/Makefile.am: Reflect changes above.

2001-04-26	Joel Sherrill <joel@OARcorp.com>

	* include/rtems/posix/mqueue.h, inline/rtems/posix/mqueue.inl,
	src/mqueue.c, src/mqueueclose.c, src/mqueuecreatesupp.c,
	src/mqueuegetattr.c, src/mqueuenotify.c, src/mqueueopen.c,
	src/mqueuerecvsupp.c, src/mqueuesendsupp.c, src/mqueuesetattr.c:
	Per PR81 reworked to add a message queue descriptor separate from
	the underlying message queue.  This allows non-blocking to follow
	the "open" not the underlying queue.
 
2002-04-06	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* src/psignal.c: Include <stdlib.h>.

2002-04-08	Chris Johns <ccj@acm.org>

	* Per PR142, make task switch extension its own list.
	* src/pthread.c (_POSIX_Threads_User_extensions): Reflect above.

2002-04-02	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* src/getegid.c: Remove <errno.h>.
	* src/geteuid.c: Ditto.
	* src/getgid.c: Ditto.
	* src/getuid.c: Ditto.
	* src/getlogin.c: Move <errno.h>.

2002-03-27	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac:
	AC_INIT(package,_RTEMS_VERSION,_RTEMS_BUGS).
	AM_INIT_AUTOMAKE([no-define foreign 1.6]).
	* src/Makefile.am: Remove AUTOMAKE_OPTIONS.
	* Makefile.am: Remove AUTOMAKE_OPTIONS.
	* include/Makefile.am: Remove AUTOMAKE_OPTIONS.
	* inline/Makefile.am: Remove AUTOMAKE_OPTIONS.
	* macros/Makefile.am: Remove AUTOMAKE_OPTIONS.

2002-03-01	Eric Norum <eric.norum@usask.ca>

	* src/pthreadonce.c: Task is not preemptable while running a 
	pthread_once init function.  This is slightly less heavy handed
	than disabling dispatching and seems better than consuming a mutex.

2002-02-09	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* src/getegid.c: Add #include <rtems/userenv.h>.
	Remove #include <rtems/libio_.h>.
	* src/geteuid.c: Ditto.
	* src/getgid.c: Ditto.
	* src/getlogin.c: Ditto.
	* src/getuid.c: Ditto.


2001-01-16	Joel Sherrill <joel@OARcorp.com>

	* inline/rtems/posix/mutex.inl (_POSIX_Mutex_Get_support): Corrected
	name of routine in header.

2002-01-07	Joel Sherrill <joel@OARcorp.com>

	* optman/, optman/.cvsignore, optman/Makefile.am: Removed entire
	contents of optman/ directory since it has been moved.

2002-02-05	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: AC_CONFIG_SRCDIR([src/pthreads.c])
	* src/psignal.c: #include <string.h>.

2001-12-22	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.ac: Remove optman/Makefile from CONFIG_FILES.
	* Makefile.am: Remove optman from SUBDIRS.

2001-12-19	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* optman/Makefile.am: Add multilib support. Remove ASM4FLAGS.
	* src/Makefile.am: Add multilib support.

2001-10-16	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* include/sys/Makefile.am: Remove.
	* include/rtems/Makefile.am: Remove.
	* include/rtems/posix/Makefile.am: Remove.
	* include/Makefile.am: Handle subdirs.
	* inline/rtems/Makefile.am: Remove.
	* inline/rtems/posix/Makefile.am: Remove.
	* inline/Makefile.am: Handle subdirs.
	* macros/rtems/Makefile.am: Remove.
	* macros/rtems/posix/Makefile.am: Remove.
	* macros/Makefile.am: Handle subdirs.
	* configure.ac: Reflect changes above.

2001-10-11	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* .cvsignore: Add autom4te.cache for autoconf > 2.52.
	* configure.in: Remove.
	* configure.ac: New file, generated from configure.in by autoupdate.

2001-09-28	Joel Sherrill <joel@OARcorp.com>

	* src/mqueueopen.c, src/semopen.c: Clarify type on va_arg.

2001-09-23	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* include/sys/Makefile.am: Use 'PREINSTALL_FILES ='.
	* include/rtems/posix/Makefile.am: Use 'PREINSTALL_FILES ='.
	* include/Makefile.am: Use 'PREINSTALL_FILES ='.
	* inline/rtems/posix/Makefile.am: Use 'PREINSTALL_FILES ='.
	* macros/rtems/posix/Makefile.am: Use 'PREINSTALL_FILES ='.

2001-09-22	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* optman/Makefile.am: Adapt ASM4FLAGS to automake-1.5 happy.
	* src/Makefile.am: Adapt INCLUDES to make automake-1.5 happy.

2001-09-13	Joel Sherrill <joel@OARcorp.com>

	* src/sysconf.c: Fix typo syntax error accidentally committed.

2001-09-13	Joel Sherrill <joel@OARcorp.com>

	* src/mprotect.c: New file. Stub required by some gcc's to pass tests.
	In particular, about 350 ACATS tests fail if this is not present.
	* src/getpagesize.c: Ditto.
	* src/sysconf.c: Addition of Solaris value for _SC_STACK_PROT required
	to pass about 350 ACATS test cases.
	* src/Makefile.am: Added new files.

2001-08-30	Joel Sherrill <joel@OARcorp.com>

	* macros/rtems/posix/mqueue.inl: Add cast so negation works.

2001-08-16	Joel Sherrill <joel@OARcorp.com>

	* src/mqueuesendsupp.c: Account for possibly blocking during the
	core send operation.

2001-08-09	Joel Sherrill <joel@OARcorp.com>

	* src/mqueuesendsupp.c: Unblocking message queue operations should
	NOT use _Thread_Executing for return status since it is permissible
	to invoke message send operations from an ISR.  This was reported
	by Suvrat Gupta <suvrat@utstar.com>.

2000-05-24	Fernando Ruiz Casas <fernando.ruiz@ctv.es>

	* src/getegid.c, src/geteuid.c, src/getgid.c, src/getlogin.c,
	src/getuid.c: Now save their values in private user environment.

2001-04-27	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.in: Add [-ansi -fasm] to RTEMS_PROG_CC_FOR_TARGET.

2001-03-19	Joel Sherrill <joel@OARcorp.com>

	* sys/utsname.h: Added C++ wrapper.

2001-02-03	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* include/Makefile.am, include/rtems/posix/Makefile.am,
	include/sys/Makefile.am, inline/rtems/posix/Makefile.am,
	macros/rtems/posix/Makefile.am: 
	Apply include_*HEADERS instead of H_FILES.

2001-01-24	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* configure.in: Add src/config.h
	* src/Makefile.am: Add INCLUDES += -I. to pickup config.h
	* src/.cvsignore: Add config.h and stamp-h
	* src/*.c: Add config.h support.

2001-01-23	Joel Sherrill <joel@OARcorp.com>

	* src/alarm.c: Eliminated use of C++ style comments.

2001-01-12	Joel Sherrill <joel@OARcorp.com>

	* src/clockgetres.c: Fixed match problem.  We are not converting
	an interval to a timespec -- it is actually a real number of
	microseconds.

2001-01-22	Michael Hamel <mhamel@adi.co.nz>

	* include/rtems/posix/semaphore.h, inline/rtems/posix/semaphore.inl, 
	src/ptimer1.c, include/rtems/posix/semaphore.h,
	inline/rtems/posix/semaphore.inl, src/alarm.c, src/ptimer1.c,
	src/semaphorenametoid.c, src/semopen.c, src/semunlink.c:
	Modifications to make CodeWarrior happy.

2001-01-12	Joel Sherrill <joel@OARcorp.com>

	* src/README.mqueue: Enhanced example.

2000-12-19	Joel Sherrill <joel@OARcorp.com>

	* src/pthreadgetschedparam.c: Do not set output parameters if
	the pointers are NULL.

2000-12-06	Joel Sherrill <joel@OARcorp.com>

	* src/pthreadgetcpuclockid.c: Add include of <rtems/system.h> to
	eliminate warning.

2000-12-01	Joel Sherrill <joel@OARcorp.com>

	* include/rtems/posix/cond.h: #if 0'ed out prototype of 
	_POSIX_Condition_variables_Get to avoid conflict with macro
	implementation.

2000-12-01	Joel Sherrill <joel@OARcorp.com>

	* Added macro support to POSIX API.  This is known to compile.
	* macros/rtems/posix/cond.inl, macros/rtems/posix/intr.inl,
	macros/rtems/posix/key.inl, macros/rtems/posix/mqueue.inl,
	macros/rtems/posix/mutex.inl, macros/rtems/posix/priority.inl,
	macros/rtems/posix/pthread.inl, macros/rtems/posix/semaphore.inl,
	macros/rtems/posix/timer.inl: New files.
	* configure.in: Removed error check for enabling macros.
	* rtems/posix/mutex.h: #if 0'ed out prototypes for inlined routines
	since you cannot have prototypes for macros.
	* macros/rtems/posix/Makefile.am: Added files.

2000-11-30	Joel Sherrill <joel@OARcorp.com>

	* inline/rtems/posix/mqueue.inl: Removed explicit dependency on abs().

2000-11-27	Joel Sherrill <joel@OARcorp.com>

	* src/sysconf.c: Add support for _SC_CLK_TCK and _SC_OPEN_MAX.

2000-11-09	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: Use ... instead of RTEMS_TOPdir in ACLOCAL_AMFLAGS.

2000-11-02	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: Switch to ACLOCAL_AMFLAGS = -I $(RTEMS_TOPdir)/aclocal.

2000-10-30	Ralf Corsepius <corsepiu@faw.uni-ulm.de>
 
	* configure.in: Cleanup comments.

2000-10-30	Joel Sherrill <joel@OARcorp.com>

	* include/Makefile.am: Updated to reflect files merged into newlib.
	This resulted in some definitions moving to other files and thus
	some secondary effects in RTEMS source code.
	* include/unistd.h: Removed.  Now use newlib's.
	* include/rtems/posix/mqueue.h: Add include of <signal.h>.
	* include/rtems/posix/threadsup.h: Add include of <sys/signal.h>
	* src/execv.c: Corrected prototype to agree with newlib.
	* src/execve.c: Corrected prototype to agree with newlib.
	* src/execvp.c: Corrected prototype to agree with newlib.
	* src/psignal.c: Rewrote reference to <siginfo.h> in comment since
	that file no longer exists.
	* src/pthreadkill.c: Added include of <signal.h>.
	* src/sigaction.c: Added include of <signal.h>.
	* src/sigtimedwait.c: Rewrote reference to <siginfo.h> in comment since
	that file no longer exists.

2000-10-25	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: ACLOCAL_AMFLAGS= -I $(RTEMS_TOPdir)/macros.
	Switch to GNU canonicalization.

2000-09-04	Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* src/Makefile.am, optman/Makefile.am: Include compile.am.

2000-08-30	Joel Sherrill <joel@OARcorp.com>

	* Many files: Moved posix/include/rtems/posix/seterr.h to 
	score/include/rtems/seterr.h so it would be available within
	all APIs.

2000-08-25	Joel Sherrill <joel.sherrill@OARcorp.com>

	* inline/rtems/posix/timer.inl, include/rtems/posix/timer.h, 
	inline/rtems/posix/Makefile.am, src/ptimer1.c: Redid the
	style of src/ptimer1.c.  Continued effort to make the
	POSIX Timer implementation match that of other managers.
	Added data structures required to use SuperCore Object Handler.

2000-08-15	Joel Sherrill <joel@OARcorp.com>

	* src/ptimer1.c: Minor formatting fixes.

2000-08-15	Joel Sherrill <joel@OARcorp.com>

	* src/ptimer1.c: Removed unused routine PRINT_ERRNO_S.
	* src/ptimer1.c: Removed unnecessary routine COPY_ITIMERSPEC_S
	and used structure copy instead.
	* src/ptimer1.c: Renamed timer_alive_t to POSIX_Timer_Control.
	* include/rtems/posix/timer.h: Ditto.

2000-08-15	Joel Sherrill <joel@OARcorp.com>

	* src/ptimer1.c: Switched to using set_errno_and_return_minus_one()
	to ensure that errno was always set.

2000-08-15	Joel Sherrill <joel@OARcorp.com>

	* src/ptimer1.c (timer_settime): Converted use of rtems_clock_get
	to use SuperCore _TOD_Current variable.

2000-08-10	Joel Sherrill <joel@OARcorp.com>

	* ChangeLog: New file.
